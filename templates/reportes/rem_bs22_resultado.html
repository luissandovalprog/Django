{% extends 'base.html' %}

{% block title %}Resultado REM BS22{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-md-8">
        <h2>Reporte REM BS22</h2>
        <p class="text-muted">Atenciones de Obstetricia y Ginecología</p>
        <p><strong>Periodo:</strong> {{ fecha_inicio|date:"d/m/Y" }} - {{ fecha_fin|date:"d/m/Y" }}</p>
        <p><strong>Total Partos:</strong> {{ total_partos }}</p>
    </div>
    <div class="col-md-4 text-end">
        <a href="{% url 'reportes:rem_bs22' %}" class="btn btn-secondary">Nuevo Reporte</a>
        <button onclick="window.print()" class="btn btn-primary">Imprimir</button>
    </div>
</div>

<div class="row">
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5>Tipos de Parto</h5>
            </div>
            <div class="card-body">
                <table class="table">
                    <tr>
                        <th>Eutócicos:</th>
                        <td>{{ estadisticas.eutocicos }}</td>
                    </tr>
                    <tr>
                        <th>Cesáreas Electivas:</th>
                        <td>{{ estadisticas.cesareas_electivas }}</td>
                    </tr>
                    <tr>
                        <th>Cesáreas de Urgencia:</th>
                        <td>{{ estadisticas.cesareas_urgencia }}</td>
                    </tr>
                    <tr>
                        <th>Fórceps:</th>
                        <td>{{ estadisticas.forceps }}</td>
                    </tr>
                    <tr>
                        <th>Ventosa:</th>
                        <td>{{ estadisticas.ventosa }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-header bg-success text-white">
                <h5>Anestesia Utilizada</h5>
            </div>
            <div class="card-body">
                <table class="table">
                    <tr>
                        <th>Epidural:</th>
                        <td>{{ estadisticas.epidural }}</td>
                    </tr>
                    <tr>
                        <th>Raquídea:</th>
                        <td>{{ estadisticas.raquidea }}</td>
                    </tr>
                    <tr>
                        <th>General:</th>
                        <td>{{ estadisticas.general }}</td>
                    </tr>
                    <tr>
                        <th>Sin Anestesia:</th>
                        <td>{{ estadisticas.sin_anestesia }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-header bg-info text-white">
                <h5>Estadísticas de Recién Nacidos</h5>
            </div>
            <div class="card-body">
                <table class="table">
                    <tr>
                        <th>RN Vivos:</th>
                        <td>{{ estadisticas.rn_vivos }}</td>
                    </tr>
                    <tr>
                        <th>RN Muertos:</th>
                        <td>{{ estadisticas.rn_muertos }}</td>
                    </tr>
                    <tr>
                        <th>Masculinos:</th>
                        <td>{{ estadisticas.rn_masculinos }}</td>
                    </tr>
                    <tr>
                        <th>Femeninos:</th>
                        <td>{{ estadisticas.rn_femeninos }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-header bg-warning text-white">
                <h5>Distribución por Peso y APGAR</h5>
            </div>
            <div class="card-body">
                <table class="table">
                    <tr>
                        <th>Bajo Peso (&lt; 2500g):</th>
                        <td>{{ estadisticas.rn_bajo_peso }}</td>
                    </tr>
                    <tr>
                        <th>Peso Normal (2500-3999g):</th>
                        <td>{{ estadisticas.rn_peso_normal }}</td>
                    </tr>
                    <tr>
                        <th>Sobre Peso (&gt;= 4000g):</th>
                        <td>{{ estadisticas.rn_sobre_peso }}</td>
                    </tr>
                    <tr>
                        <th>APGAR Bajo (&lt; 7 a los 5'):</th>
                        <td>{{ estadisticas.apgar_bajo }}</td>
                    </tr>
                    <tr>
                        <th>APGAR Normal (&gt;= 7 a los 5'):</th>
                        <td>{{ estadisticas.apgar_normal }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12 mb-4">
        <div class="card">
            <div class="card-header bg-secondary text-white">
                <h5>Distribución por Edad Gestacional</h5>
            </div>
            <div class="card-body">
                <table class="table">
                    <tr>
                        <th>Pretérmino (&lt; 37 sem):</th>
                        <td>{{ estadisticas.pretermino }}</td>
                    </tr>
                    <tr>
                        <th>Término (37-41 sem):</th>
                        <td>{{ estadisticas.termino }}</td>
                    </tr>
                    <tr>
                        <th>Postérmino (&gt; 41 sem):</th>
                        <td>{{ estadisticas.postermino }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}
